
### 第二章 进程线程

## 2.1.1 进程的层次结构
1.主要指进程和所有子进程构成的进程组
比如用户从键盘里发起一个信号时，该信号被送给当前所有与键盘相关的所以进程组合成员。
每个进程可以捕货/忽略/采取动作。

windows没有进程层次这个概念。当有令牌（句柄）可以分配线程的所有权。
## 2.1.2 进程的状态
shell 命令： cat chapter1 chapter2 |grep tree
cat 连接文件输出，grep选择包含tree单词的进行输出

状态：运行态，就绪，（准备），阻塞。
区别：前两者状态进程是可以运行的，第二张cpu暂时没有分给它，第三绝对不可能，除非中断。
## 2.1.3 进程表
为了实现进程模型，操作系统维护了一张进程表（结构数组）。
进程管理：{  寄存器，程序计数器，程序状态字，堆栈指针，进程状态 status，优先级，priority，调度参数pid，进程id，
父进程，进程组，使用cpu time，子进程的cpu time，下次定时器时间}

存储管理：{ 正文段指针，数据段指针，堆栈段制作}

文件管理：{ 根目录，工作目录，文件描述符，用户ID，组ID}
与IO类关联的一个是中断向量，包含终端服务程序的入口地址。所有的中断是从保持寄存器开始，对于进程而言，通常就是保存在进程表项中。

1.堆栈删除由中断硬件机制存入堆栈的部分信息
2.将堆栈指针指向一个由进程处理程序所使用的临时堆栈。
3.汇编实现中断操作，如保存寄存器值和设置堆栈指针等操作。

进程可以被中断无数次，但每次中断后，被中断的进程返回到与中断发生前一样的状态。
